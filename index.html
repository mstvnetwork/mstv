<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MSTV Network</title>
  <style>
    body { background: #000; color: #fff; font-family: sans-serif; margin: 0; padding: 0; }
    select, .player-container, footer { width: 100%; padding: 1em; }
    .player-container { position: relative; text-align: center; }
    .live-stamp { position: absolute; top: 10px; left: 10px; background: red; padding: 5px; z-index: 2; font-weight: bold; }
    .loading-indicator { color: #fff; background: #111; padding: 5px; display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 3; }
    .logo-overlay { position: absolute; top: 10px; right: 10px; width: 60px; z-index: 2; }
    video, iframe { width: 100%; height: 360px; background: #000; border: none; z-index: 1; }
    #placeholder-image { width: 100%; height: 360px; object-fit: cover; display: block; }
    .facebook-follow img { width: 30px; vertical-align: middle; }
    .facebook-follow { text-align: center; margin: 1em 0; }
    footer { background: #111; color: #ccc; }
    .footer-section { display: flex; flex-wrap: wrap; }
    .footer-column { flex: 1 1 300px; padding: 1em; }
    .footer-column h2, h3, h4 { color: #fff; }
    .copyright { text-align: center; padding: 1em; background: #000; color: #888; font-size: 14px; }
  </style>
</head>
<body>

  <div>
    <select id="channel-select">
      <option value="">-- Select Channel --</option>
      <option value="https://desiplaylive.akamaized.net/ptnr-yupptv/v1/manifest/611d79b11b77e2f571934fd80ca1413453772ac7/vglive-sk-660691/4cf68f50-0c5e-47a6-96e3-b78797a2b6fe/1.m3u8">MSTV DESI PLAY</option>
      <option value="https://dreyfus.securitytactics.com/colorshindi.html">COLORS TV (ONLY ANDROID)</option>
      <option value="https://www.youtube.com/embed/jBroLf5iS_U?si=ykCNbagFhsztwgW1&autoplay=1">AAJ TAK HD</option>
      <option value="https://player.twitch.tv/?channel=aiodigital&parent=mstvnet.netlify.app">CINEMA (WAIT 1 MINUTE TO LOAD)</option>
    </select>
  </div>

  <div class="player-container" id="player-container">
    <div class="live-stamp">MSTV NETWORK</div>
    <div class="loading-indicator" id="loading">Loading stream...</div>
    <img src="/logo.png" class="logo-overlay" alt="MSTV Logo" />
    <iframe id="media-player" allow="autoplay; encrypted-media" sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
    <video id="video-player" autoplay muted playsinline></video>
    <img id="placeholder-image" src="Design-Studio-2025-01-22 (1).png" alt="Stream Placeholder" />
  </div>

  <div class="facebook-follow">
    <a href="https://www.facebook.com/share/19RQ8cbYCv/" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook Icon" />
      Click & follow us
    </a>
  </div>

  <footer>
    <div class="footer-section">
      <div class="footer-column">
        <h2>About MSTV</h2>
        <p>MSTV Network is a non-profit platform offering free access to live TV channels, including entertainment, music, news, and more...</p>
        <h3>Disclaimer</h3>
        <p>MSTV Network provides access to publicly available channels for informational and entertainment purposes only...</p>
        <h4>Terms of Services</h4>
        <p>By using MSTV Network, you agree to comply with our terms of service...</p>
      </div>
      <div class="footer-column">
        <h2>Contact</h2>
        <p>Email: contact@mstvindia.com</p>
      </div>
    </div>
    <div class="copyright">&copy; 2025 MSTV INDIA. All rights reserved.</div>
  </footer>

  <!-- âœ… Load hls.js library -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  <script>
    const select = document.getElementById('channel-select');
    const videoPlayer = document.getElementById('video-player');
    const iframePlayer = document.getElementById('media-player');
    const placeholder = document.getElementById('placeholder-image');
    const loading = document.getElementById('loading');

    function showLoading(show) {
      loading.style.display = show ? 'block' : 'none';
    }

    select.addEventListener('change', () => {
      const url = select.value;
      showLoading(true);

      // Reset players
      videoPlayer.pause();
      videoPlayer.removeAttribute('src');
      videoPlayer.load();
      iframePlayer.src = '';
      placeholder.style.display = 'none';

      const isIframe = url.includes('.html') || url.includes('youtube.com') || url.includes('embed') || url.includes('twitch.tv');

      if (isIframe) {
        iframePlayer.style.display = 'block';
        iframePlayer.src = url;
        iframePlayer.onload = () => showLoading(false);
        videoPlayer.style.display = 'none';
      } else {
        iframePlayer.style.display = 'none';
        videoPlayer.style.display = 'block';

        if (Hls.isSupported()) {
          const hls = new Hls();
          hls.loadSource(url);
          hls.attachMedia(videoPlayer);
          hls.on(Hls.Events.MANIFEST_PARSED, function () {
            videoPlayer.muted = false;
            videoPlayer.play();
            showLoading(false);
          });
        } else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
          videoPlayer.src = url;
          videoPlayer.addEventListener('loadedmetadata', () => {
            videoPlayer.play();
            showLoading(false);
          });
        } else {
          alert("Your browser does not support HLS video streaming.");
          showLoading(false);
        }
      }
    });

    videoPlayer.addEventListener('contextmenu', e => e.preventDefault());

    // Initial hiding
    videoPlayer.style.display = 'none';
    iframePlayer.style.display = 'none';
  </script>

</body>
</html>
