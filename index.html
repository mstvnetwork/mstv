<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MSTV INDIA</title>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6MHRH7TE5Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-6MHRH7TE5Y');
  </script>

  <!-- Fonts & libs -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Styles -->
  <style>
    html{
      font-size:16px;
      background:linear-gradient(145deg,#1A0D3C,#3F0057);
      min-height:100%;
    }
    body{
      margin:0;padding:0;
      font-family:'Poppins','Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      color:#fff;width:100%;min-height:100vh;
      overflow-x:hidden;
    }

    .title-3d{
      font-size:3em;text-align:center;margin-top:30px;
      color:#00ffe7;
      text-shadow:0 0 10px #00ffe7,0 0 20px #0ff,0 0 30px #0ff;
      animation:glow 2s infinite alternate;
    }
    @keyframes glow{
      0%{text-shadow:0 0 10px #00ffe7,0 0 20px #0ff;}
      100%{text-shadow:0 0 20px #00ffe7,0 0 30px #0ff;}
    }

    .scrolling-text{
      overflow:hidden;white-space:nowrap;
      padding:12px 0;margin:20px 0;
      background:rgba(255,255,255,.05);
      border-top:2px solid #00ffe7;
      border-bottom:2px solid #00ffe7;
    }
    .scrolling-content{
      display:inline-block;padding-left:100%;
      animation:scroll-text 15s linear infinite;
      font-size:1.3em;color:#00ffe7;
    }
    @keyframes scroll-text{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

    *{box-sizing:border-box;}

    .channel-selector-text{
      text-align:center;font-size:1.6em;
      margin:2vh 0 1vh;color:#ff4fd8;padding:0 5vw;
    }
    .channel-selection{
      margin-bottom:3vh;padding:0 5vw;display:flex;justify-content:center;align-items:center;
    }
    select{
      padding:.5em 1em;font-size:1.1em;
      background:#111;color:#0ff;border:2px solid #0ff;border-radius:15px;
      outline:none;transition:.3s;text-align:center;
      box-shadow:0 0 10px #0ff;width:100%;max-width:400px;display:block;
    }
    select:hover{
      background:#1f0037;color:#fff;box-shadow:0 0 15px #ff4fd8;
    }

    .player-container{
      position:relative;width:90%;max-width:1000px;aspect-ratio:16/9;
      margin:0 auto 40px;border:4px solid;border-radius:20px;
      overflow:hidden;background:#000;animation:borderPulse 4s ease-in-out infinite;
    }
    @keyframes borderPulse{
      0%  {border-color:#ff4fd8;box-shadow:0 0 15px #ff4fd8;}
      25% {border-color:#00ffe7;box-shadow:0 0 30px #00ffe7;}
      50% {border-color:#ff4fd8;box-shadow:0 0 15px #ff4fd8;}
      75% {border-color:#f7ff00;box-shadow:0 0 30px #f7ff00;}
      100%{border-color:#ff4fd8;box-shadow:0 0 15px #ff4fd8;}
    }
    .player-container iframe,
    .player-container video,
    #placeholder-image{
      position:absolute;top:0;left:0;width:100%;height:100%;
    }

    .unmute-button{
      position:absolute;bottom:20px;left:20px;
      background:rgba(0,0,0,.7);border:2px solid #00ffe7;border-radius:50%;
      width:50px;height:50px;display:flex;justify-content:center;align-items:center;
      cursor:pointer;z-index:101;font-size:1.8em;color:#fff;
      box-shadow:0 0 10px rgba(0,255,231,.5);
      transition:background .3s,border-color .3s;
    }
    .unmute-button:hover{
      background:rgba(0,0,0,.9);border-color:#ff4fd8;
      box-shadow:0 0 15px rgba(255,79,216,.7);
    }

    .live-stamp{
      position:absolute;top:5px;left:5px;
      background:#ff003c;color:#fff;padding:8px 12px;
      font-weight:bold;font-size:.9em;border-radius:5px;
      z-index:10;box-shadow:0 0 10px #ff003c;
      transition:opacity .2s;
    }

    .loading-indicator{
      position:absolute;top:50%;left:50%;
      transform:translate(-50%,-50%);
      font-size:1.5em;background:rgba(0,0,0,.85);color:#ffcc00;
      padding:15px 30px;border-radius:12px;display:none;z-index:15;
      animation:glowLoader 1.5s infinite alternate;
    }
    @keyframes glowLoader{0%{box-shadow:0 0 5px #ffcc00}100%{box-shadow:0 0 15px #ffcc00}}

    /*  ▸▸  logo moved & enlarged  */
    .logo-overlay{
      position:absolute;top:10px;right:10px;width:150px;
      height:auto;opacity:.95;z-index:12;pointer-events:none;
    }

    .partner-logos{
      display:flex;flex-wrap:wrap;justify-content:center;align-items:center;
      gap:30px;margin:40px auto;padding:0 20px;max-width:1000px;
    }
    .partner-logos img{
      max-width:180px;height:auto;opacity:.8;
      transition:transform .3s,opacity .3s,box-shadow .3s;
      border-radius:8px;box-shadow:0 0 5px rgba(255,255,255,.1);
    }
    .partner-logos img:hover{
      transform:scale(1.08);opacity:1;
      box-shadow:0 0 15px #00ffe7,0 0 25px rgba(0,255,231,.4);
    }

    audio{display:none;}

    footer{
      padding:40px 20px;color:#aaa;font-family:'Poppins',sans-serif;
    }
    .footer-section{
      display:flex;flex-wrap:wrap;justify-content:space-around;align-items:flex-start;
      max-width:1200px;margin:0 auto;gap:20px;padding:0 15px;
    }
    .footer-column{flex:1 1 auto;min-width:280px;padding:10px;}
    .footer-column h2{color:#ff004f;margin-bottom:10px;font-size:1.75rem;font-weight:600;letter-spacing:.05em;}
    .footer-column h3,.footer-column h4{color:#ff004f;margin:15px 0 5px;font-size:1.25rem;font-weight:600;letter-spacing:.03em;}
    .footer-column p{font-size:.9rem;line-height:1.7;color:#e0e0e0;letter-spacing:.02em;text-align:justify;margin-bottom:1.5em;}
    .footer-column a{color:#ffcc00;text-decoration:none;transition:color .3s;}
    .footer-column a:hover{text-decoration:underline;color:#fff;}

    .facebook-follow{
      text-align:center;margin:40px auto 25px;display:flex;flex-direction:column;align-items:center;
    }
    .facebook-follow a{
      display:inline-flex;align-items:center;color:#fff;font-size:1.2em;text-decoration:none;
      background:#3b5998;padding:10px 20px;border-radius:5px;transition:background .3s;
    }
    .facebook-follow a:hover{background:#2d4373;}
    .facebook-follow img{
      width:30px;height:30px;margin-right:10px;
      filter:hue-rotate(300deg) saturate(500%) brightness(120%) contrast(100%);
      box-shadow:0 0 10px #ff0000,0 0 20px rgba(255,0,0,.4);
      transition:filter .3s,box-shadow .3s;
    }
    .facebook-follow a:hover img{
      box-shadow:0 0 15px #ff4500,0 0 25px rgba(255,69,0,.6);
      filter:hue-rotate(305deg) saturate(600%) brightness(130%) contrast(100%);
    }

    .copyright{text-align:center;color:#b0b0b0;margin-top:20px;font-size:.8rem;letter-spacing:.03em;}

    @media(max-width:768px){
      .footer-section{flex-direction:column;align-items:center;gap:30px;}
      .footer-column{width:90%;text-align:left;}
    }
    @media(max-width:480px){.footer-column{padding:5px;}}
  </style>
</head>
<body>

  <div class="title-3d">MSTV INDIA</div>
<div class="scrolliscrollingng-text">
<div class="scrolling-text">
  <div class="scrolling-content" style="line-height: 1; display: inline-flex; align-items: center; gap: 20px;">
    <span>Watch free! 👉</span>
    <img src="logo.img/images.png" alt="Logo 1" style="height: 1em;" />
    <img src="logo.img/images (1).jpeg" alt="Logo 2" style="height: 1em;" />
    <img src="https://raw.githubusercontent.com/mstvnetwork/mstv/refs/heads/main/logo.img/268-s-768x432.webp?token=GHSAT0AAAAAADGDZT4FQT6YPFT3NUDLVKUU2DLSD6A" alt="GitHub Logo" style="height: 1em;" />
    <span>Anytime. Anywhere. MSTV INDIA 📺</span>
    <span style="margin-left: 50px;">Watch free! 👉</span>
    <img src="logo.img/images.png" alt="Logo 1" style="height: 1em;" />
    <img src="logo.img/images (1).jpeg" alt="Logo 2" style="height: 1em;" />
    <img src="https://raw.githubusercontent.com/mstvnetwork/mstv/refs/heads/main/logo.img/268-s-768x432.webp?token=GHSAT0AAAAAADGDZT4FQT6YPFT3NUDLVKUU2DLSD6A" alt="GitHub Logo" style="height: 1em;" />
    <span>MSTV INDIA — No Sign-up. No Buffering. Just Free TV.</span>
  </div>
</div>

 <div class="channel-selector-text">Select Channel</div>
  <div class="channel-selection">
    <select id="channel-select">
      <option value="">👉📺📺📺</option>
    </select>
  </div>

  <div class="player-container" id="player-container">
    <iframe id="media-player" allow="autoplay; encrypted-media; picture-in-picture"
            sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
    <video id="video-player" autoplay muted playsinline
           controlsList="nodownload nofullscreen noremote" disablePictureInPicture></video>
    <img id="placeholder-image" src="Design-Studio-2025-01-22 (1).png" alt="Stream Placeholder" />

    <div class="live-stamp">MSTV NETWORK</div>
    <div class="loading-indicator" id="loading">Loading stream...</div>
    <img src="/logo.png" class="logo-overlay" alt="MSTV Logo" />

    <div class="unmute-button" id="unmute-button">
      <span id="speaker-icon">🔇</span>
    </div>
  </div>

  <div class="partner-logos">
    <img src="logo.img/images.png" alt="Partner Logo 1" />
    <img src="logo.img/images (1).jpeg" alt="Partner Logo 2" />
  </div>

  <div class="facebook-follow">
    <a href="https://www.facebook.com/share/16VZyWirq4/" target="_blank" rel="noopener">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" />
      Follow us on Facebook
    </a>
  </div>

  <footer>
    <div class="footer-section">
      <div class="footer-column">
        <h2>About MSTV</h2>
        <p>MSTV Network is a non‑profit platform offering free access to live TV
           channels—including entertainment, music, news, and more. We provide
           high‑quality streaming to viewers worldwide, fostering cultural exchange
           through free, reliable, and uninterrupted TV streaming.</p>

        <h3>Disclaimer</h3>
        <p>MSTV Network provides access to publicly available channels for
           informational and entertainment purposes only. Content is provided “as is,”
           and MSTV Network is not liable for any errors or interruptions. By using
           MSTV Network you agree to comply with all applicable laws.</p>

        <h4>Terms of Service</h4>
        <p>By using MSTV Network, you agree to comply with our terms of service…</p>
      </div>

      <div class="footer-column">
        <h2>Contact</h2>
        <p>Email: contact@mstvindia.com</p>
        <p>Phone: +001‑305‑242‑4447</p>
      </div>
    </div>

    <div class="copyright">© 2025 MSTV INDIA. All rights reserved.</div>
  </footer>

  <!-- Main logic -->
  <script>
    const select        = document.getElementById('channel-select');
    const videoPlayer   = document.getElementById('video-player');
    const iframePlayer  = document.getElementById('media-player');
    const placeholder   = document.getElementById('placeholder-image');
    const loading       = document.getElementById('loading');
    const unmuteButton  = document.getElementById('unmute-button');
    const speakerIcon   = document.getElementById('speaker-icon');
    const liveStamp     = document.querySelector('.live-stamp');

    let hlsInstance = null;
    let channelsData = [];
    let lastKnownJsonContent = null;

    const githubJsonUrl   = 'channels.json';
    const pollingInterval = 5000;

    function showLoading(show){loading.style.display = show ? 'block' : 'none';}
    function updateSpeakerIcon(){
      speakerIcon.textContent = videoPlayer.muted ? '🔇' : '🔊';
      unmuteButton.style.display = videoPlayer.muted ? 'flex' : 'none';
    }
    unmuteButton.addEventListener('click',()=>{
      if(videoPlayer.style.display==='block'){
        videoPlayer.muted=false;updateSpeakerIcon();
      }
    });
    videoPlayer.addEventListener('volumechange',updateSpeakerIcon);

    function playChannel(ch){
      showLoading(true);
      videoPlayer.pause();
      if(hlsInstance){hlsInstance.destroy();hlsInstance=null;}
      videoPlayer.removeAttribute('src');videoPlayer.load();
      iframePlayer.src='';
      videoPlayer.style.display='none';iframePlayer.style.display='none';
      placeholder.style.display='none';unmuteButton.style.display='none';
      liveStamp.style.opacity='1';

      if(ch.type==='hls'){
        liveStamp.style.opacity='.5';  /* transparent live tag */
        if(Hls.isSupported()){
          videoPlayer.style.display='block';
          hlsInstance=new Hls();hlsInstance.loadSource(ch.url);hlsInstance.attachMedia(videoPlayer);
          hlsInstance.on(Hls.Events.MANIFEST_PARSED,()=>{
            videoPlayer.muted=false;videoPlayer.autoplay=true;
            videoPlayer.play().then(()=>{showLoading(false);})
                              .catch(()=>{showLoading(false);placeholder.style.display='block';});
          });
        }else if(videoPlayer.canPlayType('application/vnd.apple.mpegurl')){
          videoPlayer.style.display='block';
          videoPlayer.src=ch.url;videoPlayer.muted=false;videoPlayer.autoplay=true;
          videoPlayer.play().then(()=>{showLoading(false);})
                            .catch(()=>{showLoading(false);placeholder.style.display='block';});
        }else{showLoading(false);placeholder.style.display='block';}

      }else if(ch.type==='iframe'){
        iframePlayer.style.display='block';iframePlayer.src=ch.url;
        iframePlayer.onload =()=>showLoading(false);
        iframePlayer.onerror=()=>{showLoading(false);placeholder.style.display='block';};

      }else{ /* direct video */
        videoPlayer.style.display='block';videoPlayer.src=ch.url;
        videoPlayer.muted=true;videoPlayer.autoplay=true;
        videoPlayer.play().then(()=>{showLoading(false);updateSpeakerIcon();})
                          .catch(()=>{showLoading(false);placeholder.style.display='block';});
      }
    }

    function updateDropdown(data){
      const prev=select.value;
      select.innerHTML='<option value="">👉📺📺📺</option>';
      data.forEach((c,i)=>{
        const o=document.createElement('option');o.value=i;o.textContent=c.name;select.appendChild(o);
      });
      if(prev && prev < data.length)select.value=prev;
    }

    async function fetchChannels(){
      try{
        const res=await fetch(`${githubJsonUrl}?cb=${Date.now()}`);
        if(!res.ok)throw new Error(res.statusText);
        const data=await res.json();
        const str=JSON.stringify(data);
        if(lastKnownJsonContent===null||str!==lastKnownJsonContent){
          channelsData=data;updateDropdown(channelsData);lastKnownJsonContent=str;
        }
      }catch(e){console.error('Channel load error:',e);}
    }

    select.addEventListener('change',()=>{
      const idx=select.value;
      if(idx===''){
        videoPlayer.pause();if(hlsInstance){hlsInstance.destroy();hlsInstance=null;}
        videoPlayer.removeAttribute('src');iframePlayer.src='';
        videoPlayer.style.display='none';iframePlayer.style.display='none';
        placeholder.style.display='block';unmuteButton.style.display='none';
        liveStamp.style.opacity='1';showLoading(false);
      }else if(channelsData[idx]){playChannel(channelsData[idx]);}
    });

    videoPlayer.addEventListener('contextmenu',e=>e.preventDefault());
    iframePlayer.addEventListener('contextmenu',e=>e.preventDefault());

    /* initial */
    videoPlayer.style.display='none';iframePlayer.style.display='none';
    placeholder.style.display='block';unmuteButton.style.display='none';

    document.addEventListener('DOMContentLoaded',()=>{
      fetchChannels();setInterval(fetchChannels,pollingInterval);
    });
  </script>
</body>
</html>
